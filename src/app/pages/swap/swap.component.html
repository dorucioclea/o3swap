<section *ngIf="pageStatus==='home'" class="wrapper select-token-wrapper">
  <p class="title">Swap</p>
  <div *ngIf="inputError" class="input-token-error">{{ inputError }}</div>
  <div class="token-select">
    <div class="token-select-item content-border" (click)="showTokens('from')">
      <p class="sub-title token-select-title">From</p>
      <div class="token-select-dropdown" [ngClass]="{'no-selected': !fromToken}">
        <img *ngIf="fromToken" class="logo" [src]="fromToken?.logo" alt="">
        <span class="name">{{ fromToken?.symbol || 'SELECT' }}</span>
        <img class="arrow" src="/assets/images/swap/arrow-down.png" alt="">
      </div>
    </div>
    <img class="token-exchange" src="/assets/images/swap/exchange.png" alt="">
    <div class="token-select-item content-border" (click)="showTokens('to')">
      <p class="sub-title token-select-title">To</p>
      <div class="token-select-dropdown" [ngClass]="{'no-selected': !toToken}">
        <img *ngIf="toToken" class="logo" [src]="toToken?.logo" alt="">
        <span class="name">{{ toToken?.symbol || 'SELECT' }}</span>
        <img class="arrow" src="/assets/images/swap/arrow-down.png" alt="">
      </div>
    </div>
  </div>
  <div class="pay content-border">
    <div class="sub-title pay-title">
      <p>Pay</p>
      <p>≈＄<span class="from-token-rate">{{ inputAmountFiat || '0.00' }}</span></p>
    </div>
    <div class="pay-amount">
      <input class="choose-amount" (input)="changeInputAmount($event)" [ngModel]="inputAmount" type="number"
        placeholder="0.0">
      <span class="token-from">{{ fromToken?.symbol }}</span>
      <button class="all" (click)="allInputAmount()">All</button>
    </div>
    <div class="pay-tip">Balance: <span class="all-balance">{{ fromToken?.amount || '0' }}</span>&nbsp;<span
        class="token-from">{{ fromToken?.symbol }}</span>
    </div>
  </div>
  <div class="receive content-border" [ngClass]="{'content-border-active': !changeData&&chooseSwapPath }">
    <p class="sub-title receive-title">Receive</p>
    <p class="receive-amount"><span class="amount-to">{{ chooseSwapPath?.receiveAmount || '--' }}</span>&nbsp;<span
        class="token-to">{{ toToken?.symbol }}</span></p>
    <p class="receive-fiat">≈＄<span class="fiat-amount">{{ chooseSwapPath?.fiat || '--.--' }}</span></p>
    <button class="confirm" (click)="inquiry()"
      [ngClass]="{active: fromToken && toToken && inputAmount}">Inquiry</button>
    <img class="next" (click)="pageStatus='result'" src="/assets/images/swap/next.png" alt="">
  </div>
  <div class="setting-group">
    <img class="refresh" src="/assets/images/swap/refresh.png" alt="">
    <img (click)="pageStatus='setting'" class="setting" back='select-token-wrapper'
      src="/assets/images/swap/setting.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='inquiring'" class="wrapper inquiry-wrapper">
  <p class="title">Swap</p>
  <img src="/assets/images/swap/inquirying.gif" alt="">
  <p class="inqirying">Inquerying...</p>
  <button class="back" (click)="backHome()">back</button>
</section>
<section *ngIf="pageStatus==='result'" class="wrapper result-wrapper">
  <p class="title">Swap</p>
  <div class="exchange-amount">
    <p class="left">
      <span class="amount-from">{{ inputAmount }}</span>
      &nbsp;
      <span class="token-from">{{ fromToken?.symbol }}</span>
      <img class="exchange" src="/assets/images/swap/exchange.png" alt="">
      <span class="token-to">{{ toToken?.symbol }}</span>
    </p>
    <span class="arrow back">
      <img (click)="resultBackHome()" src="/assets/images/swap/arrow-down.png" alt="">
    </span>
  </div>
  <div class="receive content-border content-border-active">
    <p class="sub-title">Receive</p>
    <p class="amount"><span class="amount-to">{{ chooseSwapPath.receiveAmount }}</span>&nbsp;<span
        class="token-to">{{ toToken?.symbol }}</span></p>
    <p class="fiat">≈＄<span class="fiat-amount">{{ chooseSwapPath.fiat }}</span></p>
    <div class="optimal">Optimal</div>
  </div>
  <p class="more-price" (click)="showExchangeModal=true">More Trading Price</p>
  <div class="fee-group">
    <div class="fee-item">
      <p class="label">Rate</p>
      <p class="value">
        1 <span class="token-from">{{ fromToken?.symbol }}</span> = <span class="rate"></span> <span
          class="token-to">{{ toToken?.symbol }}</span>
      </p>
    </div>
    <div class="fee-item">
      <p class="label">lnverse Rate</p>
      <p class="value">
        1 <span class="token-to">{{ toToken?.symbol }}</span> = <span class="lnverseRate"></span> <span
          class="token-from">{{ fromToken?.symbol }}</span>
      </p>
    </div>
    <!-- <div class="fee-item">
      <p class="label">Estimated Network Fee</p>
      <p class="value">1</p>
    </div>
    <div class="fee-item">
      <p class="label">Max Network Fee</p>
      <p class="value">2</p>
    </div> -->
  </div>
  <button class="confirm" (click)="swap()">Confirm</button>
  <div class="setting-group">
    <img class="refresh" src="/assets/images/swap/refresh.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='setting'" class="wrapper setting-wrapper">
  <p class="title">Settings</p>
  <div class="setting-item">
    <p class="setting-item-title">Slippage tolerance</p>
    <div class="slip">
      <ul class="left">
        <li *ngFor="let slip of slipValueGroup" class="slip-item" (click)="selectSlipValue(slip)"
          [ngClass]="{active: !isCustom && slipValue===slip}">{{ slip }}%</li>
      </ul>
      <input type="number" [ngClass]="{focus: isCustom}" (click)="inputSlipValue()" [(ngModel)]="isCustom && slipValue"
        placeholder="Custom">
      <span class="tail" *ngIf="isCustom">%</span>
    </div>
    <p class="slip-error"></p>
  </div>
  <div class="setting-group">
    <img (click)="pageStatus='home'" class="close" src="/assets/images/swap/close.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='tokenList'" class="wrapper choose-token-wrapper">
  <p class="title">Choose</p>
  <input type="text" (keyup.enter)="search($event)" placeholder="Search">
  <div class="chains">
    <img src="/assets/images/tokens/eth.png" alt="">
    <img class="active" src="/assets/images/tokens/neo.png" alt="">
    <img src="/assets/images/tokens/bsc.png" alt="">
    <img src="/assets/images/tokens/heco.png" alt="">
  </div>
  <ul class="tokens">
    <li class="token" *ngFor="let tokenItem of tokens" [ngClass]="{active: chooseToken?.assetID===tokenItem?.assetID}"
      (click)="selectThisToken(tokenItem)">
      <img [src]="tokenItem?.logo" alt="">
      <span class="name flex-1">{{ tokenItem?.symbol }}</span>
      <span class="amount">{{ tokenItem?.amount }}</span>
    </li>
  </ul>
  <div class="setting-group">
    <img (click)="pageStatus='home'" class="close" src="/assets/images/swap/close.png" alt="">
  </div>
</section>
<section class="cover" *ngIf="showExchangeModal">
  <div class="container exchange-container">
    <p class="title">
      <span>Choose Exchange</span>
      <img (click)="showExchangeModal=false" class="close" src="/assets/images/swap/close.png" alt="">
    </p>
    <ul class="exchanges">
      <li class="exchange-item active" exchange='huobi'>
        <div class="flex-row">
          <span class="name">HUOBI</span>
          <p class="value">
            <span class="amount-to" exchange='huobi'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='huobi'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='binance'>
        <div class="flex-row">
          <span class="name">Binance</span>
          <p class="value">
            <span class="amount-to" exchange='binance'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='binance'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='coinbase'>
        <div class="flex-row">
          <span class="name">Coinbase</span>
          <p class="value">
            <span class="amount-to" exchange='coinbase'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='coinbase'>10000.000</span></p>
      </li>
    </ul>
  </div>
</section>
