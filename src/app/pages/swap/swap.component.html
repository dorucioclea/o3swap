<section *ngIf="pageStatus==='home'" class="wrapper select-token-wrapper">
  <p class="title">Swap</p>
  <div *ngIf="inputAmountError" class="input-token-error">{{ inputAmountError }}</div>
  <div class="token-select">
    <div class="token-select-item content-border" (click)="showTokens('from')">
      <p class="sub-title token-select-title">From</p>
      <div class="token-select-dropdown" [ngClass]="{'no-selected': !fromToken}">
        <img *ngIf="fromToken" class="logo" [src]="fromToken?.logo" alt="">
        <span class="name">{{ fromToken?.symbol || 'SELECT' }}</span>
        <img class="arrow" src="/assets/images/swap/arrow-down.png" alt="">
      </div>
    </div>
    <img class="token-exchange" src="/assets/images/swap/exchange.png" alt="">
    <div class="token-select-item content-border" (click)="showTokens('to')">
      <p class="sub-title token-select-title">To</p>
      <div class="token-select-dropdown" [ngClass]="{'no-selected': !toToken}">
        <img *ngIf="toToken" class="logo" [src]="toToken?.logo" alt="">
        <span class="name">{{ toToken?.symbol || 'SELECT' }}</span>
        <img class="arrow" src="/assets/images/swap/arrow-down.png" alt="">
      </div>
    </div>
  </div>
  <div class="pay content-border">
    <div class="sub-title pay-title">
      <p>Pay</p>
      <p>≈＄{{ inputAmountFiat || '0.00' }}</p>
    </div>
    <div class="pay-amount">
      <input class="choose-amount" (input)="changeInputAmount($event)" [ngModel]="inputAmount" type="number"
        placeholder="0.0">
      <span class="token-from">{{ fromToken?.symbol }}</span>
      <button class="all" (click)="allInputAmount()">All</button>
    </div>
    <div class="pay-tip">Balance: {{ fromToken?.amount || '0' }} {{ fromToken?.symbol }}</div>
  </div>
  <div class="receive content-border" [ngClass]="{'content-border-active': !changeData&&chooseSwapPath }">
    <p class="sub-title receive-title">Receive</p>
    <p class="receive-amount">{{ chooseSwapPath?.receiveAmount || '--' }} {{ toToken?.symbol }}</p>
    <p class="receive-fiat">≈＄{{ chooseSwapPath?.fiat || '--.--' }}</p>
    <button class="confirm" (click)="inquiry()"
      [ngClass]="{active: fromToken && toToken && inputAmount}">Inquiry</button>
    <img class="next" (click)="pageStatus='result'" src="/assets/images/swap/next.png" alt="">
  </div>
  <div class="setting-group">
    <img (click)="pageStatus='setting'" class="setting" back='select-token-wrapper'
      src="/assets/images/swap/setting.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='inquiring'" class="wrapper inquiry-wrapper">
  <p class="title">Swap</p>
  <img src="/assets/images/swap/inquirying.gif" alt="">
  <p class="inqirying">Inquerying...</p>
</section>
<section *ngIf="pageStatus==='result'" class="wrapper result-wrapper">
  <p class="title">Swap</p>
  <div class="exchange-amount">
    <p class="left">
      <span class="token-from">{{ inputAmount }} {{ fromToken?.symbol }}</span>
      <img class="exchange" src="/assets/images/swap/exchange.png" alt="">
      <span class="token-to">{{ toToken?.symbol }}</span>
    </p>
    <span class="arrow back">
      <img (click)="resultBackHome()" src="/assets/images/swap/arrow-down.png" alt="">
    </span>
  </div>
  <div class="receive content-border content-border-active">
    <p class="sub-title">Receive</p>
    <p class="amount">{{ chooseSwapPath?.receiveAmount }} {{ toToken?.symbol }}</p>
    <p class="fiat">≈＄{{ chooseSwapPath?.fiat }}</p>
    <div class="optimal">Optimal</div>
  </div>
  <p class="more-price" (click)="showExchangeModal=true">More Trading Price</p>
  <div class="fee-group">
    <div class="fee-item">
      <p class="label">Routing</p>
      <ul class="value routes">
        <li *ngFor="let name of chooseSwapPath?.swapPath; index as index">
          <span *ngIf="index!==0">></span>
          <img src="/assets/images/tokens/neo/{{name}}.png" alt="">{{ name }}
        </li>
      </ul>
    </div>
    <div class="fee-item">
      <p class="label">Rate</p>
      <p class="value">
        1 {{ fromToken?.symbol }} = {{ price }} {{ toToken?.symbol }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">lnverse Rate</p>
      <p class="value">
        1 {{ toToken?.symbol }} = {{ lnversePrice }} {{ fromToken?.symbol }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">Quote includes a {{ o3SwapFee }}% O3Swap fee</p>
    </div>
  </div>
  <button class="confirm" (click)="swap()">Confirm</button>
  <div class="setting-group">
    <img (click)="reGetSwapPath()" class="refresh" src="/assets/images/swap/refresh.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='setting'" class="wrapper setting-wrapper">
  <p class="title">Settings</p>
  <div class="setting-item">
    <p class="setting-item-title">Slippage tolerance</p>
    <div class="slip setting-item-content">
      <ul class="left">
        <li *ngFor="let slip of slipValueGroup" class="slip-item" (click)="selectSlipValue(slip)"
          [ngClass]="{active: !isCustom && slipValue===slip}">{{ slip }}%</li>
      </ul>
      <input type="number" [ngClass]="{focus: isCustom}" (input)="checkSlipValue()" (click)="clickCustomSlipValue()"
        [(ngModel)]="isCustom && slipValue" placeholder="Custom">
      <span class="tail" *ngIf="isCustom">%</span>
      <p class="slip-error">{{ slipValueError }}</p>
    </div>
  </div>
  <div class="setting-item">
    <p class="setting-item-title">Transaction time limit</p>
    <div class="setting-item-content tx-time-limit">
      <input type="number" [(ngModel)]="deadline">
      <span>&nbsp;&nbsp;min</span>
    </div>
  </div>
  <div class="setting-group">
    <img (click)="closeSetting()" class="close" src="/assets/images/swap/close.png" alt="">
  </div>
</section>
<section *ngIf="pageStatus==='tokenList'" class="wrapper choose-token-wrapper">
  <p class="title">Choose</p>
  <input type="text" (keyup.enter)="search($event)" placeholder="Search">
  <div class="chains">
    <img src="/assets/images/tokens/eth.png" alt="">
    <img class="active" src="/assets/images/tokens/neo.png" alt="">
    <img src="/assets/images/tokens/bsc.png" alt="">
    <img src="/assets/images/tokens/heco.png" alt="">
  </div>
  <ul class="tokens">
    <li class="token" *ngFor="let tokenItem of tokens" [ngClass]="{active: chooseToken?.assetID===tokenItem?.assetID}"
      (click)="selectThisToken(tokenItem)">
      <img [src]="tokenItem?.logo" alt="">
      <span class="name flex-1">{{ tokenItem?.symbol }}</span>
      <span class="amount">{{ tokenItem?.amount }}</span>
    </li>
  </ul>
  <div class="setting-group">
    <img (click)="pageStatus='home'" class="close" src="/assets/images/swap/close.png" alt="">
  </div>
</section>
<section class="cover" *ngIf="showExchangeModal">
  <div class="container exchange-container">
    <p class="title">
      <span>Choose Routing</span>
      <img (click)="showExchangeModal=false" class="close" src="/assets/images/swap/close.png" alt="">
    </p>
    <ul class="exchanges">
      <li class="exchange-item" *ngFor="let swapItem of receiveSwapPathArray; index as index"
        (click)="changeSwapPath(index)" [ngClass]="{active: chooseSwapPathIndex===index}">
        <div class="flex-row">
          <p class="name">{{ swapItem.receiveAmount }} {{ toToken.symbol }}</p>
          <p class="fiat">≈＄{{ swapItem.fiat }}</p>
        </div>
        <ul class="routes">
          <li *ngFor="let name of swapItem.swapPath; index as index">
            <span *ngIf="index!==0">></span>
            <img src="/assets/images/tokens/neo/{{name}}.png" alt="">{{ name }}
          </li>
        </ul>
      </li>
    </ul>
    <!-- <ul class="exchanges">
      <li class="exchange-item active" exchange='huobi'>
        <div class="flex-row">
          <span class="name">HUOBI</span>
          <p class="value">
            <span class="amount-to" exchange='huobi'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='huobi'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='binance'>
        <div class="flex-row">
          <span class="name">Binance</span>
          <p class="value">
            <span class="amount-to" exchange='binance'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='binance'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='coinbase'>
        <div class="flex-row">
          <span class="name">Coinbase</span>
          <p class="value">
            <span class="amount-to" exchange='coinbase'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='coinbase'>10000.000</span></p>
      </li>
    </ul> -->
  </div>
</section>

<section class="cover" *ngIf="showTxHashModal">
  <div class="container tx-hash-container">
    <p class="title">
      <img *ngIf='isTxPending' class="close pending" src="/assets/images/swap-result/close-pending.png" alt="">
      <img *ngIf='!isTxPending' (click)="closeTxHashModal()" class="close" src="/assets/images/swap/close.png"
        alt="">
    </p>
    <div class="content">
      <div class="status-img">
        <img *ngIf='isTxPending' src="/assets/images/swap-result/logo.png" alt="">
        <img class="pending-icon" *ngIf='isTxPending' src="/assets/images/swap-result/pending.png" alt="">
        <img *ngIf='!isTxPending' src="/assets/images/swap-result/success.png" alt="">
      </div>
      <p class="status">{{ isTxPending ? 'Pending' : 'Success' }}</p>
      <div class="desc">
        <span>Hash</span>
        {{ txhash | shortAddress: 10 }}
        <img class="copy" (click)="copy(txhash)" src="/assets/images/swap-result/copy.png" alt="">
        <a target="_blank" [href]="txPage">
          <img src="/assets/images/swap-result/link.png" alt="">
        </a>
      </div>
    </div>
  </div>
</section>
