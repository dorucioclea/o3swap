<section class="wrapper inquiry-wrapper" *ngIf="showInquiry">
  <p class="title">Swap</p>
  <ng-lottie class="inquiry-json" [options]="inquiryOptions"></ng-lottie>
  <p class="inquirying">Inquerying...</p>
</section>

<section class="wrapper result-wrapper" *ngIf="!showInquiry">
  <p class="title">Swap</p>
  <div class="exchange-amount">
    <p class="left">
      <span class="token-from">{{ inputAmount }} {{ fromToken?.symbol }}</span>
      <img class="exchange" src="/assets/images/swap/exchange.png" alt="">
      <span class="token-to">{{ toToken?.symbol }}</span>
    </p>
    <span class="arrow back">
      <img (click)="backToHomePage()" src="/assets/images/swap/arrow-down.png" alt="">
    </span>
  </div>
  <div class="receive content-border content-border-active">
    <p class="sub-title">Receive</p>
    <p class="amount">{{ chooseSwapPath?.receiveAmount | transNumber | number: '1.0-8' }} {{ toToken?.symbol }}</p>
    <p class="fiat">≈＄{{ chooseSwapPath?.fiat }}</p>
    <div class="optimal">Optimal</div>
  </div>
  <p class="more-price" (click)="showRoutingModal()">More Trading Price ></p>
  <div class="fee-group">
    <div class="fee-item">
      <p class="label">From</p>
      <p class="value">
        {{ fromAddress | shortAddress: 10 }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">To</p>
      <p class="value">
        {{ toAddress | shortAddress: 10 }}
      </p>
    </div>
    <div class="fee-item" [ngClass]="{route: chooseSwapPath?.swapPath.length > 4}">
      <p class="label">Routing</p>
      <ul class="value routes">
        <li *ngFor="let name of chooseSwapPath?.swapPath; index as index">
          <span *ngIf="index!==0">></span>
          <img [src]="chooseSwapPath?.swapPathLogo[index]" alt="">{{ name }}
        </li>
      </ul>
    </div>
    <div class="fee-item">
      <p class="label">Rate</p>
      <p class="value">
        1 {{ fromToken?.symbol }} = {{ price }} {{ toToken?.symbol }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">lnverse Rate</p>
      <p class="value">
        1 {{ toToken?.symbol }} = {{ lnversePrice }} {{ fromToken?.symbol }}
      </p>
    </div>
    <div class="fee-item" *ngIf="polyFee">
      <p class="label">Poly Fee</p>
      <div class="value">{{ polyFee }} {{ fromToken.sourceTokenSymbol }}</div>
    </div>
    <div class="fee-item">
      <p class="label">Quote includes a {{ O3_AGGREGATOR_FEE }}% O3Swap fee</p>
    </div>
  </div>
  <div class="btn-group" *ngIf="showApprove">
    <button class="approve" nz-button [ngClass]="{disable: hasApprove===true}" [nzLoading]="isApproveLoading"
      (click)="approve()">Approve</button>
    <button [ngClass]="{disable: hasApprove===false}" (click)="swap()">Confirm</button>
  </div>
  <button *ngIf="!showApprove" class="confirm" (click)="swap()">Confirm</button>
  <div class="setting-group">
    <div class="refresh">
      After<span>{{ inquiryTime }}</span>s
      <img (click)="reGetSwapPath()" src="/assets/images/swap/refresh.png" alt="">
    </div>
  </div>
</section>
