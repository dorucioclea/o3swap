<section class="wrapper inquiry-wrapper" *ngIf="showInquiry">
  <p class="title">Swap</p>
  <img src="/assets/images/swap/inquirying.gif" alt="">
  <p class="inqirying">Inquerying...</p>
</section>

<section class="wrapper result-wrapper" *ngIf="!showInquiry">
  <p class="title">Swap</p>
  <div class="exchange-amount">
    <p class="left">
      <span class="token-from">{{ inputAmount }} {{ fromToken?.symbol }}</span>
      <img class="exchange" src="/assets/images/swap/exchange.png" alt="">
      <span class="token-to">{{ toToken?.symbol }}</span>
    </p>
    <span class="arrow back">
      <img (click)="backToHomePage()" src="/assets/images/swap/arrow-down.png" alt="">
    </span>
  </div>
  <div class="receive content-border content-border-active">
    <p class="sub-title">Receive</p>
    <p class="amount">{{ chooseSwapPath?.receiveAmount }} {{ toToken?.symbol }}</p>
    <p class="fiat">≈＄{{ chooseSwapPath?.fiat }}</p>
    <div class="optimal">Optimal</div>
  </div>
  <p class="more-price" (click)="showRoutingModal=true">More Trading Price</p>
  <div class="fee-group">
    <div class="fee-item">
      <p class="label">Routing</p>
      <ul class="value routes">
        <li *ngFor="let name of chooseSwapPath?.swapPath; index as index">
          <span *ngIf="index!==0">></span>
          <img src="/assets/images/tokens/neo/{{name}}.png" alt="">{{ name }}
        </li>
      </ul>
    </div>
    <div class="fee-item">
      <p class="label">Rate</p>
      <p class="value">
        1 {{ fromToken?.symbol }} = {{ price }} {{ toToken?.symbol }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">lnverse Rate</p>
      <p class="value">
        1 {{ toToken?.symbol }} = {{ lnversePrice }} {{ fromToken?.symbol }}
      </p>
    </div>
    <div class="fee-item">
      <p class="label">Quote includes a {{ o3SwapFee }}% O3Swap fee</p>
    </div>
  </div>
  <button class="confirm" (click)="swap()">Confirm</button>
  <div class="setting-group">
    <img (click)="reGetSwapPath()" class="refresh" src="/assets/images/swap/refresh.png" alt="">
  </div>
</section>

<section class="cover" *ngIf="showRoutingModal">
  <div class="container exchange-container">
    <p class="title">
      <span>Choose Routing</span>
      <img (click)="showRoutingModal=false" class="close" src="/assets/images/swap/close.png" alt="">
    </p>
    <ul class="exchanges">
      <li class="exchange-item" *ngFor="let swapItem of receiveSwapPathArray; index as index"
        (click)="changeSwapPath(index)" [ngClass]="{active: chooseSwapPathIndex===index}">
        <div class="flex-row">
          <p class="name">{{ swapItem.receiveAmount }} {{ toToken.symbol }}</p>
          <p class="fiat">≈＄{{ swapItem.fiat }}</p>
        </div>
        <ul class="routes">
          <li *ngFor="let name of swapItem.swapPath; index as index">
            <span *ngIf="index!==0">></span>
            <img src="/assets/images/tokens/neo/{{name}}.png" alt="">{{ name }}
          </li>
        </ul>
      </li>
    </ul>
    <!-- <ul class="exchanges">
      <li class="exchange-item active" exchange='huobi'>
        <div class="flex-row">
          <span class="name">HUOBI</span>
          <p class="value">
            <span class="amount-to" exchange='huobi'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='huobi'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='binance'>
        <div class="flex-row">
          <span class="name">Binance</span>
          <p class="value">
            <span class="amount-to" exchange='binance'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='binance'>10000.000</span></p>
      </li>
      <li class="exchange-item" exchange='coinbase'>
        <div class="flex-row">
          <span class="name">Coinbase</span>
          <p class="value">
            <span class="amount-to" exchange='coinbase'>700</span>
            <span class="token-to"></span>
          </p>
        </div>
        <p class="fiat">≈＄<span class="fiat-amount" exchange='coinbase'>10000.000</span></p>
      </li>
    </ul> -->
  </div>
</section>

<section class="cover" *ngIf="showTxHashModal">
  <div class="container tx-hash-container">
    <p class="title">
      <img *ngIf='isTxPending' class="close pending" src="/assets/images/swap-result/close-pending.png" alt="">
      <img *ngIf='!isTxPending' (click)="closeTxHashModal()" class="close" src="/assets/images/swap/close.png" alt="">
    </p>
    <div class="content">
      <div class="status-img">
        <img *ngIf='isTxPending' src="/assets/images/swap-result/logo.png" alt="">
        <img class="pending-icon" *ngIf='isTxPending' src="/assets/images/swap-result/pending.png" alt="">
        <img *ngIf='!isTxPending' src="/assets/images/swap-result/success.png" alt="">
      </div>
      <p class="status">{{ isTxPending ? 'Pending' : 'Success' }}</p>
      <div class="desc">
        <span>Hash</span>
        {{ txhash | shortAddress: 10 }}
        <img class="copy" (click)="copy(txhash)" src="/assets/images/swap-result/copy.png" alt="">
        <a target="_blank" [href]="txPage">
          <img src="/assets/images/swap-result/link.png" alt="">
        </a>
      </div>
    </div>
  </div>
</section>
